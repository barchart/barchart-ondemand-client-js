/*! barchart-ondemand-client-js - v1.0.0 - 2017-02-08
* https://github.com/barchart/barchart-ondemand-client-js
* Copyright (c) 2017 ; Licensed  */
var OnDemandClient=function(){"use strict";var a="http://ondemand.websol.barchart.com",b=null,c=null,d=!0,e=!1,f=!1,g=function(){};g.prototype={constructor:OnDemandClient},g.prototype.getQuote=function(b,c){var d={url:a+"/getQuote."+h()};return j(d,b,c)},g.prototype.getLeaders=function(b,c){var d={url:a+"/getLeaders."+h()};return j(d,b,c)},g.prototype.getTechnicals=function(b,c){var d={url:a+"/getTechnicals."+h()};return j(d,b,c)},g.prototype.getProfile=function(b,c){var d={url:a+"/getProfile."+h()};return j(d,b,c)},g.prototype.getInstrumentDefinition=function(b,c){var d={url:a+"/getInstrumentDefinition."+h()};return j(d,b,c)},g.prototype.getFuturesSpecifications=function(b,c){var d={url:a+"/getFuturesSpecifications."+h()};return j(d,b,c)},g.prototype.getFuturesExpirations=function(b,c){var d={url:a+"/getFuturesExpirations."+h()};return j(d,b,c)},g.prototype.getFuturesOptionsExpirations=function(b,c){var d={url:a+"/getFuturesOptionsExpirations."+h()};return j(d,b,c)},g.prototype.getCompetitors=function(b,c){var d={url:a+"/getCompetitors."+h()};return j(d,b,c)},g.prototype.getInsiders=function(b,c){var d={url:a+"/getInsiders."+h()};return j(d,b,c)},g.prototype.getHighsLows=function(b,c){var d={url:a+"/getHighsLows."+h()};return j(d,b,c)},g.prototype.getMomentum=function(b,c){var d={url:a+"/getMomentum."+h()};return j(d,b,c)},g.prototype.getSignal=function(b,c){var d={url:a+"/getSignal."+h()};return j(d,b,c)},g.prototype.getRatings=function(b,c){var d={url:a+"/getRatings."+h()};return j(d,b,c)},g.prototype.getChart=function(b,c){var d={url:a+"/getChart."+h()};return j(d,b,c)},g.prototype.getHistory=function(b,c){var d={url:a+"/getHistory."+h()};return j(d,b,c)},g.prototype.getFuturesOptions=function(b,c){var d={url:a+"/getFuturesOptions."+h()};return j(d,b,c)},g.prototype.getEquityOptions=function(b,c){var d={url:a+"/getEquityOptions."+h()};return j(d,b,c)},g.prototype.getSpecialOptions=function(b,c){var d={url:a+"/getSpecialOptions."+h()};return j(d,b,c)},g.prototype.getSpecialOptionsClassification=function(b,c){var d={url:a+"/getSpecialOptionsClassification."+h()};return j(d,b,c)},g.prototype.getWeather=function(b,c){var d={url:a+"/getWeather."+h()};return j(d,b,c)},g.prototype.getUSDAGrainPrices=function(b,c){var d={url:a+"/getUSDAGrainPrices."+h()};return j(d,b,c)},g.prototype.getEarningsEstimates=function(b,c){var d={url:a+"/getEarningsEstimates."+h()};return j(d,b,c)},g.prototype.getCorporateActions=function(b,c){var d={url:a+"/getCorporateActions."+h()};return j(d,b,c)},g.prototype.getIndexMembers=function(b,c){var d={url:a+"/getIndexMembers."+h()};return j(d,b,c)},g.prototype.getFinancialHighlights=function(b,c){var d={url:a+"/getFinancialHighlights."+h()};return j(d,b,c)},g.prototype.getIncomeStatements=function(b,c){var d={url:a+"/getIncomeStatements."+h()};return j(d,b,c)},g.prototype.getFinancialRatios=function(b,c){var d={url:a+"/getFinancialRatios."+h()};return j(d,b,c)},g.prototype.getSECFilings=function(b,c){var d={url:a+"/getSECFilings."+h()};return j(d,b,c)},g.prototype.getETFDetails=function(b,c){var d={url:a+"/getETFDetails."+h()};return j(d,b,c)},g.prototype.getSymbolLookup=function(b,c){var d={url:a+"/getSymbolLookUp."+h()};return j(d,b,c)},g.prototype.getNews=function(b,c){var d={url:a+"/getNews."+h()};return j(d,b,c)},g.prototype.getBalanceSheets=function(b,c){var d={url:a+"/getBalanceSheets."+h()};return j(d,b,c)},g.prototype.get=function(b,c,d){var e={url:a+"/"+b+"."+h()};return j(e,c,d)};var h=function(){return d?"jsonp":"json"},i=function(){return f?"key":"apikey"},j=function(a,c,d){var e={},f=null;return"object"==typeof c?(e=c,f=d):"function"==typeof c&&(f=c),a.params=l(a.params,e),b&&(a.params[i()]=b),k(a,f)},k=function(a,b){if(d!==!0){var c=function(c,d){var e=new XMLHttpRequest,f=a.type||"GET";"GET"===f?e.open(f,m(a.url,a.params),!0):e.open(f,m(a.url)),e.onreadystatechange=function(){if(4===e.readyState){var a=null;try{a=e.responseText?JSON.parse(e.responseText):""}catch(f){}200===e.status||201===e.status?(c&&c(a),b&&b(null,a)):(d&&d(e),b&&b(e,null))}},e.send("GET"===f?null:JSON.stringify(a.postData))};return b?(c(),null):n(c)}JSONP({url:m(a.url,a.params),success:function(a){e&&console.log("success!",a),b&&b(null,a)},error:function(a){console.log("fetch error!",a),b&&b(a,null)}})},l=function(){var a=Array.prototype.slice.call(arguments),b=a[0],c=a.slice(1);b=b||{};for(var d=0;d<c.length;d++)for(var e in c[d])b[e]=c[d][e];return b},m=function(a,b){var c="";for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];c+=encodeURIComponent(d)+"="+encodeURIComponent(e)+"&"}return c.length>0&&(c=c.substring(0,c.length-1),a=a+"?"+c),a},n=function(a){if(null!==c){var b=c.defer();return a(function(a){b.resolve(a)},function(a){b.reject(a)}),b.promise}return window.Promise?new window.Promise(a):null};return g.prototype.setAPIKey=function(a){return b=a,this},g.prototype.setJsonP=function(a){return d=a,this},g.prototype.setDebug=function(a){return e=a,this},g.prototype.setBaseUrl=function(b){return a=b,this},g.prototype.setSandbox=function(b){return f=b,a=f===!0?"http://marketdata.websol.barchart.com":"http://ondemand.websol.barchart.com",this},g.prototype.setPromiseImplementation=function(a){if(!("defer"in a))throw new Error("Unsupported implementation of Promises/A+");c=a},g}();(function(){var a,b,c,d,e,f,g;b=function(a){return window.document.createElement(a)},c=window.encodeURIComponent,f=Math.random,a=function(a){var c,f,h,i,j;if(a=a?a:{},i={data:a.data||{},error:a.error||d,success:a.success||d,url:a.url||""},0===i.url.length)throw new Error("MissingUrl");return f=!1,c=i.data[a.callback_name||"callback"]="jsonpODJSClient_"+g(15),window[c]=function(a){i.success(a);try{return delete window[c]}catch(b){return void(window[c]=void 0)}},j=b("script"),j.src=i.url,j.src+=(i.url.indexOf(!1),"&"),j.src+=e(i.data),j.async=!0,j.onerror=function(a){return i.error({url:j.src,event:a})},j.onload=j.onreadystatechange=function(){return f||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(f=!0,j.onload=j.onreadystatechange=null,!j||!j.parentNode)?void 0:j.parentNode.removeChild(j)},h=h||window.document.getElementsByTagName("head")[0],h.appendChild(j)},d=function(){return void 0},g=function(a){var b;for(b="";b.length<a;)b+=f().toString(36)[2];return b},e=function(a){var b,d,e;b=[];for(d in a)e=a[d],b.push(c(d)+"="+c(e));return b.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=a:this.JSONP=a}).call(this);