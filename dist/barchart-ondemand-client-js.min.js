/*! barchart-ondemand-client-js - v1.0.0 - 2015-03-26
* https://github.com/barchart/barchart-ondemand-client-js
* Copyright (c) 2015 ; Licensed  */
var OnDemandClient=function(){"use strict";var a="http://ondemand.websol.barchart.com",b=null,c=null,d=!0,e=!1,f=function(){};f.prototype={constructor:OnDemandClient},f.prototype.getQuote=function(b,c){var d={url:a+"/getQuote."+g()};return h(d,b,c)},f.prototype.getLeaders=function(b,c){var d={url:a+"/getLeaders."+g()};return h(d,b,c)},f.prototype.getTechnicals=function(b,c){var d={url:a+"/getTechnicals."+g()};return h(d,b,c)},f.prototype.getProfile=function(b,c){var d={url:a+"/getProfile."+g()};return h(d,b,c)},f.prototype.getInstrumentDefinition=function(b,c){var d={url:a+"/getInstrumentDefinition."+g()};return h(d,b,c)},f.prototype.getFuturesSpecifications=function(b,c){var d={url:a+"/getFuturesSpecifications."+g()};return h(d,b,c)},f.prototype.getFuturesExpirations=function(b,c){var d={url:a+"/getFuturesExpirations."+g()};return h(d,b,c)},f.prototype.getFuturesOptionsExpirations=function(b,c){var d={url:a+"/getFuturesOptionsExpirations."+g()};return h(d,b,c)},f.prototype.getCompetitors=function(b,c){var d={url:a+"/getCompetitors."+g()};return h(d,b,c)},f.prototype.getInsiders=function(b,c){var d={url:a+"/getInsiders."+g()};return h(d,b,c)},f.prototype.getHighsLows=function(b,c){var d={url:a+"/getHighsLows."+g()};return h(d,b,c)},f.prototype.getMomentum=function(b,c){var d={url:a+"/getMomentum."+g()};return h(d,b,c)},f.prototype.getSignal=function(b,c){var d={url:a+"/getSignal."+g()};return h(d,b,c)},f.prototype.getRatings=function(b,c){var d={url:a+"/getRatings."+g()};return h(d,b,c)},f.prototype.getChart=function(b,c){var d={url:a+"/getChart."+g()};return h(d,b,c)},f.prototype.getHistory=function(b,c){var d={url:a+"/getHistory."+g()};return h(d,b,c)},f.prototype.getFuturesOptions=function(b,c){var d={url:a+"/getFuturesOptions."+g()};return h(d,b,c)},f.prototype.getEquityOptions=function(b,c){var d={url:a+"/getEquityOptions."+g()};return h(d,b,c)},f.prototype.getSpecialOptions=function(b,c){var d={url:a+"/getSpecialOptions."+g()};return h(d,b,c)},f.prototype.getSpecialOptionsClassification=function(b,c){var d={url:a+"/getSpecialOptionsClassification."+g()};return h(d,b,c)},f.prototype.getWeather=function(b,c){var d={url:a+"/getWeather."+g()};return h(d,b,c)},f.prototype.getUSDAGrainPrices=function(b,c){var d={url:a+"/getUSDAGrainPrices."+g()};return h(d,b,c)},f.prototype.getEarningsEstimates=function(b,c){var d={url:a+"/getEarningsEstimates."+g()};return h(d,b,c)},f.prototype.getCorporateActions=function(b,c){var d={url:a+"/getCorporateActions."+g()};return h(d,b,c)},f.prototype.getIndexMembers=function(b,c){var d={url:a+"/getIndexMembers."+g()};return h(d,b,c)},f.prototype.getFinancialHighlights=function(b,c){var d={url:a+"/getFinancialHighlights."+g()};return h(d,b,c)},f.prototype.getIncomeStatements=function(b,c){var d={url:a+"/getIncomeStatements."+g()};return h(d,b,c)},f.prototype.getFinancialRatios=function(b,c){var d={url:a+"/getFinancialRatios."+g()};return h(d,b,c)},f.prototype.getSECFilings=function(b,c){var d={url:a+"/getSECFilings."+g()};return h(d,b,c)},f.prototype.getNews=function(b,c){var d={url:a+"/getNews."+g()};return h(d,b,c)},f.prototype.get=function(b,c,d){var e={url:a+"/"+b+"."+g()};return h(e,c,d)};var g=function(){return d?"jsonp":"json"},h=function(a,c,d){var e={},f=null;return"object"==typeof c?(e=c,f=d):"function"==typeof c&&(f=c),a.params=j(a.params,e),b&&(a.params.apikey=b),i(a,f)},i=function(a,b){if(d!==!0){var c=function(c,d){var e=new XMLHttpRequest,f=a.type||"GET";"GET"===f?e.open(f,k(a.url,a.params),!0):e.open(f,k(a.url)),e.onreadystatechange=function(){if(4===e.readyState){var a=null;try{a=e.responseText?JSON.parse(e.responseText):""}catch(f){}200===e.status||201===e.status?(c&&c(a),b&&b(null,a)):(d&&d(e),b&&b(e,null))}},e.send("GET"===f?null:JSON.stringify(a.postData))};return b?(c(),null):l(c)}JSONP({url:k(a.url,a.params),success:function(a){e&&console.log("success!",a),b&&b(null,a)},error:function(a){console.log("fetch error!",a),b&&b(a,null)}})},j=function(){var a=Array.prototype.slice.call(arguments),b=a[0],c=a.slice(1);b=b||{};for(var d=0;d<c.length;d++)for(var e in c[d])b[e]=c[d][e];return b},k=function(a,b){var c="";for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];c+=encodeURIComponent(d)+"="+encodeURIComponent(e)+"&"}return c.length>0&&(c=c.substring(0,c.length-1),a=a+"?"+c),a},l=function(a){if(null!==c){var b=c.defer();return a(function(a){b.resolve(a)},function(a){b.reject(a)}),b.promise}return window.Promise?new window.Promise(a):null};return f.prototype.setAPIKey=function(a){return b=a,this},f.prototype.setJsonP=function(a){return d=a,this},f.prototype.setDebug=function(a){return e=a,this},f.prototype.setBaseUrl=function(b){return a=b,this},f.prototype.setPromiseImplementation=function(a){if(!("defer"in a))throw new Error("Unsupported implementation of Promises/A+");c=a},f}();(function(){var a,b,c,d,e,f,g;b=function(a){return window.document.createElement(a)},c=window.encodeURIComponent,f=Math.random,a=function(a){var c,f,h,i,j;if(a=a?a:{},i={data:a.data||{},error:a.error||d,success:a.success||d,url:a.url||""},0===i.url.length)throw new Error("MissingUrl");return f=!1,c=i.data[a.callback_name||"callback"]="jsonpODJSClient_"+g(15),window[c]=function(a){i.success(a);try{return delete window[c]}catch(b){return void(window[c]=void 0)}},j=b("script"),j.src=i.url,j.src+=(i.url.indexOf(!1),"&"),j.src+=e(i.data),j.async=!0,j.onerror=function(a){return i.error({url:j.src,event:a})},j.onload=j.onreadystatechange=function(){return f||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(f=!0,j.onload=j.onreadystatechange=null,!j||!j.parentNode)?void 0:j.parentNode.removeChild(j)},h=h||window.document.getElementsByTagName("head")[0],h.appendChild(j)},d=function(){return void 0},g=function(a){var b;for(b="";b.length<a;)b+=f().toString(36)[2];return b},e=function(a){var b,d,e;b=[];for(d in a)e=a[d],b.push(c(d)+"="+c(e));return b.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=a:this.JSONP=a}).call(this);